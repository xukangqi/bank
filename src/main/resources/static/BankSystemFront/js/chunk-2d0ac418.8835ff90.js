(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac418"],{1982:function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=this,t=a.$createElement,o=a._self._c||t;return o("a-form",{staticStyle:{"margin-top":"20px"},attrs:{autoFormCreate:function(a){e.form=a}},on:{submit:a.handleSubmit}},[o("h2",{staticStyle:{"margin-left":"38%","margin-bottom":"20px"}},[a._v("新增账户申请")]),o("a-form-item",{attrs:{label:"姓名",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"custName",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入申请人姓名"}]}}},[o("a-input")],1),o("a-form-item",{attrs:{label:"身份证",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"identityCard",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入申请人身份证号"},{validator:this.checkID}]}}},[o("a-input")],1),o("a-form-item",{attrs:{label:"手机号",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"phone",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入申请人手机号"},{validator:this.checkTelephone}]}}},[o("a-input")],1),o("a-form-item",{attrs:{label:"开户银行所在地区",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"address",fieldDecoratorOptions:{rules:[{required:!0,message:"请选择所在地区"}]}}},[o("a-cascader",{attrs:{options:a.address,placeholder:"请选择所在地区"}})],1),o("a-form-item",{attrs:{label:"开户网点",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"detailAddress",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入开户网点"}]}}},[o("a-input")],1),o("a-form-item",{attrs:{label:"账户类型",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"accountType",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入账户类型"}]}}},[o("a-select",{attrs:{defaultValue:"1"}},[o("a-select-option",{attrs:{value:"1"}},[a._v("个人")]),o("a-select-option",{attrs:{value:"2"}},[a._v("企业")])],1)],1),o("a-form-item",{attrs:{label:"账户种类",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"accountKind",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入账户种类"}]}}},[o("a-select",{attrs:{defaultValue:"1"}},[o("a-select-option",{attrs:{value:"1"}},[a._v("一类")]),o("a-select-option",{attrs:{value:"2"}},[a._v("二类")]),o("a-select-option",{attrs:{value:"3"}},[a._v("三类")])],1)],1),o("a-form-item",{attrs:{label:"账户密码",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入账户密码"}]}}},[o("a-input",{attrs:{type:"password"},model:{value:a.password,callback:function(e){a.password=e},expression:"password"}})],1),o("a-form-item",{attrs:{label:"重复账户密码",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"password2",fieldDecoratorOptions:{rules:[{required:!0,message:"请再次输入账户密码"},{validator:this.checkPassword}]}}},[o("a-input",{attrs:{type:"password"}})],1),o("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[o("a-button",{attrs:{type:"primary",htmlType:"submit"}},[a._v("\n            提交申请\n        ")])],1)],1)},r=[],s=t("6bde"),l=t("6d18"),i=l["a"].address,n={name:"NewAccount",data:function(){return{password:void 0,address:i,formLayout:"horizontal"}},methods:{handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields(function(e,t){if(!e){for(var o="",r=0;r<t.address.length;r++)o+=t.address[r];o+=t.detailAddress,console.log(),a.$axios({method:"post",url:"/customer/account/new",params:{custName:t.custName,identityCard:t.identityCard,phone:t.phone,depositBank:o,accountKind:t.accountKind,accountType:t.accountType,password:t.password}}).then(function(e){var t=e.data;200==t.status?(a.$notification.open({message:"新增账户成功",description:"新增账户成功"}),a.$router.push("/admin/customer/info")):a.$notification.open({message:"提交请求失败",description:t.msg})}).catch(function(e){console.log(e),a.$notification.open({message:"错误",description:"服务器开小差了,请稍后再试"})})}})},checkID:function(e,a,t){"undefined"===typeof a&&t("请输入申请人身份证号");var o=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,r=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$/;18==a.length?r.test(a)?t():t("身份证号码格式不正确"):15==a.length&&o.test(a)?t():t("身份证号码格式不正确")},checkTelephone:function(e,a,t){void 0==Object(s["a"])(a)&&t(),/^1[34578]\d{9}$/.test(a)?t():t("手机号码错误")},checkPassword:function(e,a,t){void 0==Object(s["a"])(a)?t("请再次输入密码"):a===this.password?t():t("密码不一致")}},mounted:function(){}},d=n,p=t("2877"),c=Object(p["a"])(d,o,r,!1,null,null,null);c.options.__file="NewAccount.vue";a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0ac418.8835ff90.js.map