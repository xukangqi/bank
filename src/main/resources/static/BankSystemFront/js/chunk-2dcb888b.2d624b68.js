(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dcb888b"],{"05fc":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-table",{attrs:{columns:t.columns,loading:t.loading,dataSource:t.data,scroll:{x:1500}},scopedSlots:t._u([{key:"action",fn:function(e,r){return[n("a-button",{attrs:{type:"primary"},on:{click:function(){return t.showDrawer(r.fundTxId)}}},[t._v("显示详情")])]}},{key:"filterDropdown1",fn:function(e){var r=e.setSelectedKeys,a=e.selectedKeys,o=e.confirm,i=e.clearFilters;return n("div",{staticClass:"custom-filter-dropdown"},[n("a-input",{ref:"searchInput",attrs:{placeholder:"查询交易流水号",value:a[0]},on:{change:function(t){return r(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(a,o)}}}),n("a-button",{attrs:{type:"primary"},on:{click:function(){return t.handleSearch(a,o)}}},[t._v("查询")]),n("a-button",{attrs:{type:"danger"},on:{click:function(){return t.handleReset(i)}}},[t._v("重置")])],1)}},{key:"filterDropdown2",fn:function(e){var r=e.setSelectedKeys,a=e.selectedKeys,o=e.confirm,i=e.clearFilters;return n("div",{staticClass:"custom-filter-dropdown"},[n("a-input",{ref:"searchInput",attrs:{placeholder:"查询用户ID",value:a[0]},on:{change:function(t){return r(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(a,o)}}}),n("a-button",{attrs:{type:"primary"},on:{click:function(){return t.handleSearch(a,o)}}},[t._v("查询")]),n("a-button",{attrs:{type:"danger"},on:{click:function(){return t.handleReset(i)}}},[t._v("重置")])],1)}},{key:"filterDropdown3",fn:function(e){var r=e.setSelectedKeys,a=e.selectedKeys,o=e.confirm,i=e.clearFilters;return n("div",{staticClass:"custom-filter-dropdown"},[n("a-input",{ref:"searchInput",attrs:{placeholder:"查询账户号",value:a[0]},on:{change:function(t){return r(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(a,o)}}}),n("a-button",{attrs:{type:"primary"},on:{click:function(){return t.handleSearch(a,o)}}},[t._v("查询")]),n("a-button",{attrs:{type:"danger"},on:{click:function(){return t.handleReset(i)}}},[t._v("重置")])],1)}},{key:"filterDropdown4",fn:function(e){var r=e.setSelectedKeys,a=e.selectedKeys,o=e.confirm,i=e.clearFilters;return n("div",{staticClass:"custom-filter-dropdown"},[n("a-input",{ref:"searchInput",attrs:{placeholder:"查询基金代码",value:a[0]},on:{change:function(t){return r(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(a,o)}}}),n("a-button",{attrs:{type:"primary"},on:{click:function(){return t.handleSearch(a,o)}}},[t._v("查询")]),n("a-button",{attrs:{type:"danger"},on:{click:function(){return t.handleReset(i)}}},[t._v("重置")])],1)}},{key:"filterDropdown5",fn:function(e){var r=e.setSelectedKeys,a=e.selectedKeys,o=e.confirm,i=e.clearFilters;return n("div",{staticClass:"custom-filter-dropdown"},[n("a-input",{ref:"searchInput",attrs:{placeholder:"查询审核人ID",value:a[0]},on:{change:function(t){return r(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(a,o)}}}),n("a-button",{attrs:{type:"primary"},on:{click:function(){return t.handleSearch(a,o)}}},[t._v("查询")]),n("a-button",{attrs:{type:"danger"},on:{click:function(){return t.handleReset(i)}}},[t._v("重置")])],1)}},{key:"filterIcon",fn:function(t){return n("a-icon",{style:{color:t?"#108ee9":"#aaa"},attrs:{type:"search"}})}},{key:"customRender",fn:function(e){return[t.searchText?n("span",[t._l((e+"").split(new RegExp("(?<="+t.searchText+")|(?="+t.searchText+")","i")),function(e,r){return[e.toLowerCase()===t.searchText.toLowerCase()?n("span",{key:r,staticClass:"highlight"},[t._v(t._s(e))]):[t._v(t._s(e))]]})],2):[t._v(t._s(e))]]}}])}),n("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"'auto'",paddingBottom:"53px"},attrs:{width:"400",placement:"right",closable:!1,visible:t.visible},on:{close:t.onClose}},[n("div",{staticStyle:{background:"#ECECEC",padding:"30px"}},[n("a-card",{staticStyle:{width:"300px"},attrs:{title:"基金交易记录详情",bordered:!1,hoverable:""}},[n("p",[t._v("交易流水号："+t._s(t.detailValue.fundTxId))]),n("p",[t._v("用户ID："+t._s(t.detailValue.custId))]),n("p",[t._v("账户号："+t._s(t.detailValue.account))]),n("p",[t._v("基金代码："+t._s(t.detailValue.fundId))]),n("p",[t._v("交易类型："+t._s(t.detailValue.type))]),n("p",[t._v("金额："+t._s(t.detailValue.amount))]),n("p",[t._v("份额："+t._s(t.detailValue.share))]),n("p",[t._v("交易时间："+t._s(t.detailValue.txDate))]),n("p",[t._v("审核人ID："+t._s(t.detailValue.reviewId))])])],1),n("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[n("a-button",{on:{click:t.onClose}},[t._v("\n          关闭\n        ")])],1)])],1)},a=[],o=(n("6762"),n("2fdb"),void 0),i=[{title:"交易流水号",width:200,dataIndex:"fundTxId",key:"fundTxId",fixed:"left",scopedSlots:{filterDropdown:"filterDropdown1",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return(e.fundTxId+"").includes(t)},onFilterDropdownVisibleChange:function(t){t&&setTimeout(function(){o.$refs.searchInput.focus()})}},{title:"用户ID",dataIndex:"custId",key:"custId",scopedSlots:{filterDropdown:"filterDropdown2",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return(e.custId+"").includes(t)},onFilterDropdownVisibleChange:function(t){t&&setTimeout(function(){o.$refs.searchInput.focus()})}},{title:"账户号",dataIndex:"account",key:"account",scopedSlots:{filterDropdown:"filterDropdown3",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return(e.account+"").includes(t)},onFilterDropdownVisibleChange:function(t){t&&setTimeout(function(){o.$refs.searchInput.focus()})}},{title:"基金代码",dataIndex:"fundId",key:"fundId",scopedSlots:{filterDropdown:"filterDropdown4",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return(e.fundId+"").includes(t)},onFilterDropdownVisibleChange:function(t){t&&setTimeout(function(){o.$refs.searchInput.focus()})}},{title:"交易类型",dataIndex:"type",key:"type",filters:[{text:"认购/申购",value:"认购/申购"},{text:"赎回",value:"赎回"}],onFilter:function(t,e){return e.type==t}},{title:"金额",dataIndex:"amount",key:"amount"},{title:"份额",dataIndex:"share",key:"share"},{title:"交易时间",dataIndex:"txDate",key:"txDate"},{title:"审核人ID",dataIndex:"reviewId",key:"reviewId",scopedSlots:{filterDropdown:"filterDropdown5",filterIcon:"filterIcon",customRender:"customRender"},onFilter:function(t,e){return(e.reviewId+"").includes(t)},onFilterDropdownVisibleChange:function(t){t&&setTimeout(function(){o.$refs.searchInput.focus()})}},{title:"操作",key:"action",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],c={data:function(){return{data:[],loading:!1,detailValue:{},visible:!1,searchText:"",drawFundTxId:"",columns:i}},mounted:function(){var t=this;this.loading=!0,this.$axios({method:"get",url:"/user/fund/query/tx"}).then(function(e){var n=e.data,r=n.status;if(200==r){t.loading=!1;for(var a=0;a<n.data.length;a++)n.data[a].type=0==n.data[a].type?"认购/申购":"赎回",n.data[a].txDate=t.formatDate(n.data[a].txDate);t.data=n.data}else t.$notification.open({message:"错误",description:n.msg})}).catch(function(e){console.log("通信失败，请稍后再试"),t.$notification.open({message:"错误",description:"服务器开小差了,请稍后再试"})})},methods:{handleSearch:function(t,e){e(),this.searchText=t[0]},handleReset:function(t){t(),this.searchText=""},showDrawer:function(t){var e=this;this.visible=!0,this.drawFundTxId=t,this.$axios({method:"get",url:"/user/fund/query/txdetail/"+this.drawFundTxId}).then(function(t){var n=t.data,r=n.status;if(200==r){var a=n.data;a.type=0==a.type?"认购/申购":"赎回",a.txDate=e.formatDate(a.txDate),e.detailValue=a}else e.$notification.open({message:"错误",description:n.msg})}).catch(function(t){console.log("通信失败，请稍后再试"),e.$notification.open({message:"错误",description:"服务器开小差了,请稍后再试"})})},onClose:function(){this.visible=!1},showDetail:function(t){var e,n=this.data;for(e=0;e<n.length;e++)if(n[e].fundTxId==t)break;return n[e]},formatDate:function(t){var e=new Date(parseInt(t));return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}}},s=c,u=(n("f789"),n("2877")),l=Object(u["a"])(s,r,a,!1,null,"74086226",null);l.options.__file="SubscribeFund.vue";e["default"]=l.exports},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),a=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~a(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},6762:function(t,e,n){"use strict";var r=n("5ca1"),a=n("c366")(!0);r(r.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},ceed:function(t,e,n){},d2c8:function(t,e,n){var r=n("aae3"),a=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},f789:function(t,e,n){"use strict";var r=n("ceed"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-2dcb888b.2d624b68.js.map