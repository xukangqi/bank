(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0baeda"],{"38fe":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("a-form",{staticStyle:{"margin-top":"20px"},attrs:{autoFormCreate:function(t){e.form=t}},on:{submit:t.handleSubmit}},[s("h2",{staticStyle:{"margin-left":"38%","margin-bottom":"20px"}},[t._v("办理存款")]),s("a-form-item",{attrs:{label:"账号",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"account",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入需要存入的银行账号"}]}}},[s("a-input")],1),s("a-form-item",{attrs:{label:"存款金额",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"amount",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入需要存入的金额"}]}}},[s("a-input")],1),s("a-form-item",{attrs:{label:"存款类别",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"type",fieldDecoratorOptions:{rules:[{required:!0,message:"请选择存款类别"}]}}},[s("a-select",{attrs:{defaultValue:"活期存款"},on:{change:t.handleTypeChange}},[s("a-select-option",{attrs:{value:"活期存款"}},[t._v("活期存款")]),s("a-select-option",{attrs:{value:"整存整取"}},[t._v("整存整取")]),s("a-select-option",{attrs:{value:"零存整取"}},[t._v("零存整取")]),s("a-select-option",{attrs:{value:"整存领取"}},[t._v("整存领取")]),s("a-select-option",{attrs:{value:"存本取息"}},[t._v("存本取息")])],1)],1),s("a-form-item",{attrs:{label:"存款时长",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"duration",fieldDecoratorOptions:{rules:[{required:!0,message:"请选择存款时长"}]}}},[s("a-select",{attrs:{defaultValue:"活期"}},[s("a-select-option",{attrs:{value:"活期"}},[t._v("活期")]),s("a-select-option",{attrs:{value:"三个月"}},[t._v("三个月")]),s("a-select-option",{attrs:{value:"半年"}},[t._v("半年")]),s("a-select-option",{attrs:{value:"一年"}},[t._v("一年")]),s("a-select-option",{attrs:{value:"二年"}},[t._v("二年")]),s("a-select-option",{attrs:{value:"三年"}},[t._v("三年")]),s("a-select-option",{attrs:{value:"五年"}},[t._v("五年")])],1)],1),s("a-form-item",{attrs:{label:"转存方式",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"transferWay",fieldDecoratorOptions:{rules:[{required:!0,message:"请选择转存方式"}]}}},[s("a-select",{attrs:{defaultValue:"自动转存"}},[s("a-select-option",{attrs:{value:"自动转存"}},[t._v("自动转存")]),s("a-select-option",{attrs:{value:"到期存活"}},[t._v("到期存活")])],1)],1),s("a-form-item",{attrs:{label:"存款利率",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"nouse"}},[s("a-popover",{attrs:{title:"规定存款利率"}},[t._l(t.nowRate,function(e){return s("template",{slot:"content"},[s("p",[t._v(t._s(e.name)+":"+t._s(e.interest)+"%")])])}),s("a-input",{attrs:{addonAfter:"%"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}})],2)],1),s("a-form-item",{attrs:{label:"账户密码",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入账户密码"}]}}},[s("a-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("a-form-item",{attrs:{label:"重复账户密码",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"password2",fieldDecoratorOptions:{rules:[{required:!0,message:"请再次输入账户密码"},{validator:this.checkPassword}]}}},[s("a-input",{attrs:{type:"password"}})],1),s("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[s("a-button",{attrs:{type:"primary",htmlType:"submit"}},[t._v("\n      提交\n    ")])],1)],1)},o=[],r=a("6bde"),i={name:"DepositApply",data:function(){return{password:void 0,formLayout:"horizontal",interestRate:{},nowRate:[],radio:void 0,reviewerId:void 0}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){e||(0==t.radio?t.$notification.open({message:"错误",description:"请输入利率信息"}):(t.radio=parseFloat(t.radio),t.$axios({method:"post",url:"/deposit/insert",params:{account:a.account,depositMoney:a.amount,depositType:a.type,depositDuration:a.duration,transferWay:a.transferWay,depositRate:t.radio,password:a.password,reviewerId:t.reviewerId}}).then(function(e){var a=e.data;200==a.status?(t.$notification.open({message:"存款成功",description:"提交存款成功"}),t.form.resetFields()):t.$notification.open({message:"提交存款失败",description:a.msg})}).catch(function(e){t.$notification.open({message:"错误",description:"服务器开小差了,请稍后再试"})})))})},handleTypeChange:function(e){if("活期存款"==e){var t={name:"活期利率",interest:this.interestRate.currentRate};this.nowRate=[],this.nowRate.push(t)}else if("整存整取"==e){this.nowRate=[];var a={name:"三个月利率",interest:this.interestRate.zczqTmRate};this.nowRate.push(a),a={name:"六个月利率",interest:this.interestRate.zczqHyRate},this.nowRate.push(a),a={name:"一年利率",interest:this.interestRate.zczqOyRate},this.nowRate.push(a),a={name:"两年利率",interest:this.interestRate.zczqTwyRate},this.nowRate.push(a),a={name:"三年利率",interest:this.interestRate.zczqTyRate},this.nowRate.push(a),a={name:"五年利率",interest:this.interestRate.zczqFyRate},this.nowRate.push(a)}else{this.nowRate=[];var s={name:"一年利率",interest:this.interestRate.otherOyRate};this.nowRate.push(s),s={name:"三年利率",interest:this.interestRate.otherTyRate},this.nowRate.push(s),s={name:"五年利率",interest:this.interestRate.otherFyRate},this.nowRate.push(s)}},handleIdChange:function(e){console.log(e)},checkPassword:function(e,t,a){void 0==Object(r["a"])(t)?a("请再次输入密码"):t===this.password?a():a("密码不一致")}},mounted:function(){var e=this;this.reviewerId=this.$store.getters.user.userId,this.$axios({url:"/rate/getRate",method:"get"}).then(function(t){var a=t.data,s=a.status;if(200==s){e.interestRate=a.data;var o={name:"活期利率",interest:e.interestRate.currentRate};e.nowRate.push(o)}else e.$notification.open({message:"获取利率失败",description:a.msg})}).catch(function(t){console.log(t),e.$notification.open({message:"错误",description:"服务器开小差了,请稍后再试"})})}},n=i,l=a("2877"),p=Object(l["a"])(n,s,o,!1,null,null,null);p.options.__file="DepositApply.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0baeda.cd00eb54.js.map