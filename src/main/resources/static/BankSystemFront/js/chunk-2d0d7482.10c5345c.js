(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7482"],{"75c1":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=this,t=a.$createElement,r=a._self._c||t;return r("a-form",{staticStyle:{"margin-top":"20px"},attrs:{autoFormCreate:function(a){e.form=a}},on:{submit:a.handleSubmit}},[r("h2",{staticStyle:{"margin-left":"38%","margin-bottom":"20px"}},[a._v("开户申请")]),r("a-form-item",{attrs:{label:"姓名",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"custName",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入申请人姓名"}]}}},[r("a-input")],1),r("a-form-item",{attrs:{label:"身份证",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"identityCard",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入申请人身份证号"},{validator:this.checkID}]}}},[r("a-input")],1),r("a-form-item",{attrs:{label:"性别",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"sex",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入你的性别"}]}}},[r("a-select",{attrs:{defaultValue:"true"}},[r("a-select-option",{attrs:{value:"true"}},[a._v("男")]),r("a-select-option",{attrs:{value:"false"}},[a._v("女")])],1)],1),r("a-form-item",{attrs:{label:"手机号",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"phone",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入申请人手机号"},{validator:this.checkTelephone}]}}},[r("a-input")],1),r("a-form-item",{attrs:{label:"邮箱",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"email",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入邮箱"},{validator:this.checkEmail}]}}},[r("a-input")],1),r("a-form-item",{attrs:{label:"所在地区",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"address",fieldDecoratorOptions:{rules:[{required:!0,message:"请选择所在地区"}]}}},[r("a-cascader",{attrs:{options:a.address,placeholder:"请选择你所在的地址"}})],1),r("a-form-item",{attrs:{label:"详细地址",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"detailAddress",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入详细地址"}]}}},[r("a-input")],1),r("a-form-item",{attrs:{label:"类型",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"custType",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入你的类型"}]}}},[r("a-select",{attrs:{defaultValue:"1"}},[r("a-select-option",{attrs:{value:"1"}},[a._v("个人用户")]),r("a-select-option",{attrs:{value:"2"}},[a._v("企业用户")])],1)],1),r("a-form-item",{attrs:{label:"账户密码",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入账户密码"}]}}},[r("a-input",{attrs:{type:"password"},model:{value:a.password,callback:function(e){a.password=e},expression:"password"}})],1),r("a-form-item",{attrs:{label:"重复账户密码",labelCol:{span:5},wrapperCol:{span:12},fieldDecoratorId:"password2",fieldDecoratorOptions:{rules:[{required:!0,message:"请再次输入账户密码"},{validator:this.checkPassword}]}}},[r("a-input",{attrs:{type:"password"}})],1),r("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[r("a-button",{attrs:{type:"primary",htmlType:"submit"}},[a._v("\n            提交申请\n        ")])],1)],1)},s=[],o=t("6bde"),l=t("6d18"),i=l["a"].address,d={name:"NewConsumer",data:function(){return{password:void 0,address:i,formLayout:"horizontal"}},methods:{handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields(function(e,t){if(!e){for(var r="",s=0;s<t.address.length;s++)r+=t.address[s];r+=t.detailAddress,a.$axios({method:"post",url:"/customer/new",params:{custName:t.custName,identityCard:t.identityCard,phone:t.phone,address:r,password:t.password,email:t.email,sex:t.sex,custType:t.custType}}).then(function(e){var t=e.data;if(console.log(t),200==t.status){var r=t.data;a.$notification.open({message:"开户成功",description:"用户ID为"+r}),a.$router.push("/admin/customer/info")}else a.$notification.open({message:"提交请求失败",description:t.msg})}).catch(function(e){a.$notification.open({message:"错误",description:"服务器开小差了,请稍后再试"})})}})},checkID:function(e,a,t){"undefined"===typeof a&&t("请输入申请人身份证号");var r=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,s=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$/;18==a.length?s.test(a)?t():t("身份证号码格式不正确"):15==a.length&&r.test(a)?t():t("身份证号码格式不正确")},checkTelephone:function(e,a,t){void 0==Object(o["a"])(a)&&t(),/^1[34578]\d{9}$/.test(a)?t():t("手机号码错误")},checkPassword:function(e,a,t){void 0==Object(o["a"])(a)?t("请再次输入密码"):a===this.password?t():t("密码不一致")},checkEmail:function(e,a,t){var r=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;void 0==Object(o["a"])(a)&&t("请输入邮箱"),r.test(a)?t():t("邮箱格式错误")}},mounted:function(){}},n=d,p=t("2877"),c=Object(p["a"])(n,r,s,!1,null,null,null);c.options.__file="NewConsumer.vue";a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0d7482.10c5345c.js.map